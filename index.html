<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="handheldFriendly" content="true" />
    <style>
        body, main{
            height: 100vh;
            background:rgb(0, 37, 11);
            font-size: 2vw;
            display: table;
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 0px;
            padding: 0px;
        }
        main{
            padding: 5px;
            background: rgba(255, 255, 255, 0.7);
            width: auto;
            height: auto;
            margin-bottom: 20px;
        }
        img{
            border: 2px black solid;
            width: 100vw;
            height: 100vw;
            max-width: 700px;
            max-height: 700px;
        }
        button, input{
            background: white;
            color: black;
        }
        button{
            border-radius: 20px;
            margin-right: 2px;
            margin-left: 2px;
        }
        button:hover{
            background: black;
            color: white;
        }
        *{
            transition: .5s;
        }
        @media only screen and (min-width: 523px) {
            button, input{
                font-size: 2vw;
            }
        }
        @media only screen and (max-width: 522px) {
            button, input{
                font-size: 15px;
            }
            main{
                font-size: 15px;
            }
        }
        @media only screen and (max-width: 370px) {
            main div{
                display: flex;
                flex-direction: column;
                font-size: 20px;
            }
        }
    </style>
</head>
<body>
    <picture>
        <source media="(max-width: 768px)" srcset="https://raw.githubusercontent.com/PiotrSzwedo/zdjecie/main/mapa.png">
        <img src="https://raw.githubusercontent.com/PiotrSzwedo/zdjecie/main/mapa.png">
    </picture>
    <main>
        <div>
            <span id="number">Wylosowana liczba: </span>
        </div>
        <div>
            <span id="correct">Podaj poprawną odpowiedź:</span>
            <input type="text" id="userInput">
        </div>
        <section style="display: flex;">
            <button onClick="drawNumber()">Losuj liczbę</button>
            <button onClick="checkAnswer()">Sprawdź</button>
        </section>
    </main>
    <script>
        var numberElement = document.getElementById('number');

        function drawNumber() {
            var inputElement = document.getElementById('userInput');
            setUserInputStyle(inputElement, "white", "black")
            inputElement.value = '';
            var wylosowanaLiczba = Math.floor(Math.random() * 41) + 1;
            numberElement.textContent = 'Wylosowana liczba: ' + wylosowanaLiczba;
            setCorrectText('Podaj poprawną odpowiedź: ');
        }

        function checkAnswer() {
            var inputElement = document.getElementById('userInput');
            var odpowiedzUzytkownika = inputElement.value.toLowerCase().trim();

            var wylosowanaLiczba = parseInt(numberElement.textContent.split(' ')[2]);
            
                var liczbyDoLitery = {
                1: 'Rosja',
                2: 'Kazachstan',
                3: 'Mongolia',
                4: 'Chiny',
                5: 'Korea Północna',
                6: 'Korea Południowa',
                7: 'Japonia',
                8: 'Filipiny',
                9: 'Indonezja',
                10: 'Tajlandia',
                11: 'Kambodża',
                12: 'Laos',
                13: 'Mjanma',
                14: 'Bangladesz',
                15: 'Bhutan',
                16: 'Indie',
                17: 'Nepal',
                18: 'Pakistan',
                19: 'Afganistan',
                20: 'Tadżykistan',
                21: 'Kirgistan',
                22: 'Uzbekistan',
                23: 'Tadżykistan',
                24: 'Iran',
                25: 'Azerbejdżan',
                26: 'Armenia',
                27: 'Gruzja',
                28: 'Turcja',
                29: 'Syria',
                30: 'Liban',
                31: 'Izrael',
                32: 'Jordania',
                33: 'Irak',
                34: 'Arabia Saudyjska',
                35: 'Kuwejt',
                36: 'Zjednoczone Emiraty Arabskie',
                37: 'Katar',
                38: 'Jemen',
                39: 'Oman',
                40: 'Malezja',
                41: 'Sri Lanka'
            };
            if (isNaN(wylosowanaLiczba)){
                setCorrectText("Najpierw musisz wylosować liczbę");
                return;
            }
            if (liczbyDoLitery[wylosowanaLiczba].toLowerCase() === odpowiedzUzytkownika) {
                setUserInputStyle(inputElement, "green", "green");
                setCorrectText('Poprawna odpowiedź!');
            } else {
                setUserInputStyle(inputElement, "red", "red")
                setCorrectText(liczbyDoLitery[wylosowanaLiczba]);
            }
        }

        function setUserInputStyle(inputElement, background, borderColor){
            inputElement.style.background = background;
            inputElement.style.borderColor = borderColor;
        }

        function setCorrectText(text){
            var correctElement = document.getElementById('correct');
            correctElement.textContent = text;
        }
    </script>
</body>
</html>
